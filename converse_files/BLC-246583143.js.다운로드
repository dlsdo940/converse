var BLC=(function(e){var h="blc-redirect-url",j="blc-extra-data",a="blc-internal-data",l=[],g=[],d="",i="http://localhost:8080";function f(A){l.push(A);}function q(A){g.push(A);}function o(A){return s(A,l);}function r(A){return s(A,g);}function s(B,A){for(var C=0;C<A.length;C++){if(!A[C](B)){return false;}}return true;}function w(A){if(!(A instanceof jQuery)){return true;}if(A.attr("id")==h){var B=A.text();if(B!=null&&B!==""){window.location=B;return false;}}return true;}function p(A){var B=z(A,a);if((A instanceof jQuery)&&(A.attr("id")==a+"-container")){A.unwrap();}return B;}function v(A){return z(A,j);}function z(C,B){if(!(C instanceof jQuery)){return null;}var D=null;var A=C.find("#"+B);if(A.length>0){try{D=e.parseJSON(A.text());}catch(E){console.log("Could not parse data as JSON: "+A.text());}A.remove();}return D;}function y(A,B){if(A==null){A={};}A.type="GET";return BLC.ajax(A,B);}function t(A,B){if(A==null){A={};}A.type="POST";return BLC.ajax(A,B);}function m(B,D){if(B.type==null){B.type="GET";}if(B.type.toUpperCase()=="POST"){if(typeof B.data=="string"){if(B.data.indexOf("csrfToken")<0){var A=k();if(A!=null){if(B.data.indexOf("=")>0){B.data+="&";}B.data+="csrfToken="+A;}}if(B.data.indexOf("stateVersionToken")<0){var C=c();if(C!=null){if(B.data.indexOf("=")>0){B.data+="&";}B.data+="stateVersionToken="+C;}}}else{if(typeof B.data=="object"){if(B.data.csrfToken==null||B.data.csrfToken==""){var A=k();if(A!=null){B.data.csrfToken=A;}}if(B.data.stateVersionToken==null||B.data.stateVersionToken==""){var C=c();if(C!=null){B.data.stateVersionToken=C;}}}else{if(!B.data){var A=k();B.data={};if(A){B.data.csrfToken=A;}var C=c();if(C){B.data.stateVersionToken=C;}}}}}B.success=function(F){if(typeof F=="string"&&!this.noParse){F=e(e.trim(F));}var G=p(F);if(G!=null){r(G);}if(B.trackAnalytics!=false){u(this,F);}if(o(F)){var E=v(F);D(F,E);}};if(!B.error){B.error=function(E){BLC.defaultErrorHandler(E);};}return e.ajax(B);}function u(A,F){try{if(typeof _gaq!="undefined"){_gaq.push(["_trackPageview",A.url]);console.log("Tracked GA pageview: "+A.url);if(A.additionalAnalyticsEvents){for(var B=0;B<A.additionalAnalyticsEvents.length;B++){_gaq.push(A.additionalAnalyticsEvents[B]);console.log("Tracked additional GA event: "+A.additionalAnalyticsEvents[B]);}}}if(typeof ga!="undefined"){var G=ga.getAll();for(var B=0;B<G.length;B++){var E=G[B];console.log("Tracked GA pageview: "+A.url+" for tracker: "+E.get("name"));E.send("pageview",A.url);if(A.additionalAnalyticsEvents){for(var B=0;B<A.additionalAnalyticsEvents.length;B++){var D=A.additionalAnalyticsEvents[B];E.send(D);console.log("Tracked additional GA event: "+D+" for tracker: "+E.get("name"));}}}}}catch(C){console.log(C);}}function k(){var A=e('input[name="csrfToken"]');if(A.length==0){return null;}return A.val();}function c(){var A=e('input[name="stateVersionToken"]');if(A.length==0){return null;}return A.val();}function b(A){if(A.getAllResponseHeaders()){alert("An error occurred while processing your request.");}}function x(B){var C={};var A=B.serializeArray();e.each(A,function(){if(C[this.name]!==undefined){if(!C[this.name].push){C[this.name]=[C[this.name]];}C[this.name].push(this.value||"");}else{C[this.name]=this.value||"";}});return C;}function n(B,A,D){var E=A+"="+D,C="?"+E;if(B){C=B.replace(new RegExp("[?]"+A+"[^&]*"),"?"+E);if(C===B){C=B.replace(new RegExp("[&]"+A+"[^&]*"),"&"+E);if((C===B)&&(B.indexOf(D)==-1)){C+="&"+E;}}}return document.location.search=C;}f(function(A){return BLC.redirectIfNecessary(A);});return{addPreAjaxCallbackHandler:f,addInternalDataHandler:q,redirectIfNecessary:w,getExtraData:v,get:y,post:t,ajax:m,getStateVersionToken:c,defaultErrorHandler:b,serializeObject:x,addUrlParam:n,servletContext:d,siteBaseUrl:i};})($);